# Android APK安装器开发计划

## 项目概述
开发一个基于customtkinter的Python GUI桌面程序，能够自动检测Android设备连接状态，并支持通过拖拽APK文件进行安装。

## 技术栈
- GUI框架：customtkinter
- 包管理：uv
- ADB集成：subprocess调用
- 文件拖拽：tkinterdnd2
- 设备检测：定期轮询adb devices

## 功能需求
1. **设备状态检测**
   - 自动检测ADB连接的Android设备
   - 通过背景色提示连接状态：
     - 无背景色：未连接设备
     - 浅绿色：设备正常连接
     - 浅红色：ADB调用失败

2. **文件拖拽安装**
   - 支持APK文件拖拽到窗体
   - 自动过滤非APK文件并提示
   - 通过ADB安装APK文件

3. **用户界面**
   - 小窗体设计，无多余组件
   - 居中显示提示文本："请拖拽APK文件到窗体"
   - 状态指示通过背景色变化

## 实施计划

### 阶段1：项目依赖配置
1. 更新pyproject.toml添加tkinterdnd2依赖
2. 安装新依赖

### 阶段2：核心功能模块开发
1. 创建ADB工具类（adb_utils.py）
   - 检查ADB可用性
   - 获取连接设备列表
   - 安装APK文件

2. 创建主GUI应用（main.py）
   - 初始化customtkinter窗体
   - 设置拖拽功能
   - 实现状态检测循环
   - 处理文件拖拽事件

### 阶段3：错误处理和用户体验优化
1. 添加异常处理机制
2. 实现用户友好的错误提示
3. 优化UI响应性

### 阶段4：测试和打包
1. 功能测试
2. 使用pyinstaller打包为可执行文件

## 文件结构
```
android_installer/
├── pyproject.toml          # 项目配置和依赖
├── main.py                 # 主应用入口
├── adb_utils.py           # ADB工具类
├── README.md              # 项目说明
└── 开发计划.md            # 本文件
```

## 开发时间估算
- 阶段1：30分钟
- 阶段2：2-3小时
- 阶段3：1小时
- 阶段4：30分钟

总计：约4-5小时